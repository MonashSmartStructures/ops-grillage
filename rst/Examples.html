
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Examples &#8212; ospgrillage module 0.1.0 documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/blank.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Change Log" href="ChangeLog.html" />
    <link rel="prev" title="Package design" href="ModuleDoc.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../index.html">
  <img src="../_static/ospgrillage_logo.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="Installation.html">
  Installation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="Module%20description.html">
  Creating grillage models
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="ModelTemplates.html">
  Model types available
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="Running_analysis.html">
  Performing analysis
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="PostProcessing.html">
  Getting Results
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="APIdoc.html">
  API reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="ModuleDoc.html">
  Package design
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="current reference internal nav-link" href="#">
  Examples
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="ChangeLog.html">
  Change Log
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/MonashSmartStructures/ospgrillage" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/ccaprani" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#super-t-bridge-model">
   Super T bridge model
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#creating-the-grillage">
     Creating the grillage
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adding-load-cases-to-model">
     Adding load cases to model
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adding-a-moving-load-analysis">
     Adding a moving load analysis
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#analysis">
     Analysis
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#getting-load-case-results">
     Getting load case results
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#getting-load-combination-results">
     Getting load combination results
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-processing">
     Data processing
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#process-load-combinations-results">
     Process load combinations results
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#extract-and-process-moving-load-results">
     Extract and process moving load results
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#super-t-bridge-model-using-shell-hybrid-model-type">
   Super-T bridge model using shell hybrid model type
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#oblique-vs-orthogonal-mesh">
   Oblique vs Orthogonal Mesh
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#skew-edges-of-mesh">
   Skew edges of mesh
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                

<div class="tocsection editthispage">
    <a href="https://github.com/MonashSmartStructures/ospgrillage/edit/main/docs/source/rst/Examples.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h1>
<p>Here are some examples of what you can do with <em>ospgrillage</em>.</p>
<div class="section" id="super-t-bridge-model">
<h2>Super T bridge model<a class="headerlink" href="#super-t-bridge-model" title="Permalink to this headline">¶</a></h2>
<p>This example reproduces the grillage model of a super-T bridge from Caprani et al. (2017). In that study,
the commercial software LUSAS is used to create the grillage model. Figure 1 shows the Super-T deck cross-section.</p>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../_images/example_cross_section.PNG"><img alt="../_images/example_cross_section.PNG" src="../_images/example_cross_section.PNG" /></a>
<p class="caption"><span class="caption-text">Figure 1: Super-T deck cross section (after Caprani et al., 2017).</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="creating-the-grillage">
<h3>Creating the grillage<a class="headerlink" href="#creating-the-grillage" title="Permalink to this headline">¶</a></h3>
<p>For this example, the five super-T beams and two edge beams (parapets) of Figure 1 are being modelled similar to Caprani et al. (2017)
- with the number of longitudinal and transverse grid lines being 7 and 11 respectively.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">ospgrillage</span> <span class="k">as</span> <span class="nn">og</span>

<span class="c1"># Adopted units: N and m</span>
<span class="n">kilo</span> <span class="o">=</span> <span class="mf">1e3</span>
<span class="n">milli</span> <span class="o">=</span> <span class="mf">1e-3</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">mm</span> <span class="o">=</span> <span class="n">milli</span> <span class="o">*</span> <span class="n">m</span>
<span class="n">m2</span> <span class="o">=</span> <span class="n">m</span> <span class="o">**</span> <span class="mi">2</span>
<span class="n">m3</span> <span class="o">=</span> <span class="n">m</span> <span class="o">**</span> <span class="mi">3</span>
<span class="n">m4</span> <span class="o">=</span> <span class="n">m</span> <span class="o">**</span> <span class="mi">4</span>
<span class="n">kN</span> <span class="o">=</span> <span class="n">kilo</span> <span class="o">*</span> <span class="n">N</span>
<span class="n">MPa</span> <span class="o">=</span> <span class="n">N</span> <span class="o">/</span> <span class="p">((</span><span class="n">mm</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">GPa</span> <span class="o">=</span> <span class="n">kilo</span> <span class="o">*</span> <span class="n">MPa</span>

<span class="c1"># define material</span>
<span class="n">concrete</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_material</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;concrete&quot;</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="s2">&quot;AS5100-2017&quot;</span><span class="p">,</span> <span class="n">grade</span><span class="o">=</span><span class="s2">&quot;65MPa&quot;</span><span class="p">)</span>

<span class="c1"># define sections (parameters from LUSAS model)</span>
<span class="n">edge_longitudinal_section</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_section</span><span class="p">(</span>
    <span class="n">A</span><span class="o">=</span><span class="mf">0.934</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
    <span class="n">J</span><span class="o">=</span><span class="mf">0.1857</span> <span class="o">*</span> <span class="n">m3</span><span class="p">,</span>
    <span class="n">Iz</span><span class="o">=</span><span class="mf">0.3478</span> <span class="o">*</span> <span class="n">m4</span><span class="p">,</span>
    <span class="n">Iy</span><span class="o">=</span><span class="mf">0.213602</span> <span class="o">*</span> <span class="n">m4</span><span class="p">,</span>
    <span class="n">Az</span><span class="o">=</span><span class="mf">0.444795</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
    <span class="n">Ay</span><span class="o">=</span><span class="mf">0.258704</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">longitudinal_section</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_section</span><span class="p">(</span>
    <span class="n">A</span><span class="o">=</span><span class="mf">1.025</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
    <span class="n">J</span><span class="o">=</span><span class="mf">0.1878</span> <span class="o">*</span> <span class="n">m3</span><span class="p">,</span>
    <span class="n">Iz</span><span class="o">=</span><span class="mf">0.3694</span> <span class="o">*</span> <span class="n">m4</span><span class="p">,</span>
    <span class="n">Iy</span><span class="o">=</span><span class="mf">0.113887e-3</span> <span class="o">*</span> <span class="n">m4</span><span class="p">,</span>
    <span class="n">Az</span><span class="o">=</span><span class="mf">0.0371929</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
    <span class="n">Ay</span><span class="o">=</span><span class="mf">0.0371902</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">transverse_section</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_section</span><span class="p">(</span>
    <span class="n">A</span><span class="o">=</span><span class="mf">0.504</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
    <span class="n">J</span><span class="o">=</span><span class="mf">5.22303e-3</span> <span class="o">*</span> <span class="n">m3</span><span class="p">,</span>
    <span class="n">Iy</span><span class="o">=</span><span class="mf">0.32928</span> <span class="o">*</span> <span class="n">m4</span><span class="p">,</span>
    <span class="n">Iz</span><span class="o">=</span><span class="mf">1.3608e-3</span> <span class="o">*</span> <span class="n">m4</span><span class="p">,</span>
    <span class="n">Ay</span><span class="o">=</span><span class="mf">0.42</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
    <span class="n">Az</span><span class="o">=</span><span class="mf">0.42</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">end_transverse_section</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_section</span><span class="p">(</span>
    <span class="n">A</span><span class="o">=</span><span class="mf">0.504</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
    <span class="n">J</span><span class="o">=</span><span class="mf">2.5012e-3</span> <span class="o">*</span> <span class="n">m3</span><span class="p">,</span>
    <span class="n">Iy</span><span class="o">=</span><span class="mf">0.04116</span> <span class="o">*</span> <span class="n">m4</span><span class="p">,</span>
    <span class="n">Iz</span><span class="o">=</span><span class="mf">0.6804e-3</span> <span class="o">*</span> <span class="n">m4</span><span class="p">,</span>
    <span class="n">Ay</span><span class="o">=</span><span class="mf">0.21</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
    <span class="n">Az</span><span class="o">=</span><span class="mf">0.21</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># define grillage members</span>
<span class="n">longitudinal_beam</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_member</span><span class="p">(</span><span class="n">section</span><span class="o">=</span><span class="n">longitudinal_section</span><span class="p">,</span> <span class="n">material</span><span class="o">=</span><span class="n">concrete</span><span class="p">)</span>
<span class="n">edge_longitudinal_beam</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_member</span><span class="p">(</span>
    <span class="n">section</span><span class="o">=</span><span class="n">edge_longitudinal_section</span><span class="p">,</span> <span class="n">material</span><span class="o">=</span><span class="n">concrete</span>
<span class="p">)</span>
<span class="n">transverse_slab</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_member</span><span class="p">(</span><span class="n">section</span><span class="o">=</span><span class="n">transverse_section</span><span class="p">,</span> <span class="n">material</span><span class="o">=</span><span class="n">concrete</span><span class="p">)</span>
<span class="n">end_transverse_slab</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_member</span><span class="p">(</span>
    <span class="n">section</span><span class="o">=</span><span class="n">end_transverse_section</span><span class="p">,</span> <span class="n">material</span><span class="o">=</span><span class="n">concrete</span>
<span class="p">)</span>

<span class="c1"># parameters of bridge grillage</span>
<span class="n">L</span> <span class="o">=</span> <span class="mf">33.5</span> <span class="o">*</span> <span class="n">m</span>  <span class="c1"># span</span>
<span class="n">w</span> <span class="o">=</span> <span class="mf">11.565</span> <span class="o">*</span> <span class="n">m</span>  <span class="c1"># width</span>
<span class="n">n_l</span> <span class="o">=</span> <span class="mi">7</span>  <span class="c1"># number of longitudinal members</span>
<span class="n">n_t</span> <span class="o">=</span> <span class="mi">11</span>  <span class="c1"># number of transverse members</span>
<span class="n">edge_dist</span> <span class="o">=</span> <span class="mf">1.05</span> <span class="o">*</span> <span class="n">m</span>  <span class="c1"># distance between edge beam and first exterior beam</span>
<span class="n">angle</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># skew angle</span>

<span class="c1"># create grillage</span>
<span class="n">simple_grid</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_grillage</span><span class="p">(</span>
    <span class="n">bridge_name</span><span class="o">=</span><span class="s2">&quot;Super-T 33_5m&quot;</span><span class="p">,</span>
    <span class="n">long_dim</span><span class="o">=</span><span class="n">L</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="n">w</span><span class="p">,</span>
    <span class="n">skew</span><span class="o">=</span><span class="n">angle</span><span class="p">,</span>
    <span class="n">num_long_grid</span><span class="o">=</span><span class="n">n_l</span><span class="p">,</span>
    <span class="n">num_trans_grid</span><span class="o">=</span><span class="n">n_t</span><span class="p">,</span>
    <span class="n">edge_beam_dist</span><span class="o">=</span><span class="n">edge_dist</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># assign grillage member to element groups of grillage model</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">set_member</span><span class="p">(</span><span class="n">longitudinal_beam</span><span class="p">,</span> <span class="n">member</span><span class="o">=</span><span class="s2">&quot;interior_main_beam&quot;</span><span class="p">)</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">set_member</span><span class="p">(</span><span class="n">longitudinal_beam</span><span class="p">,</span> <span class="n">member</span><span class="o">=</span><span class="s2">&quot;exterior_main_beam_1&quot;</span><span class="p">)</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">set_member</span><span class="p">(</span><span class="n">longitudinal_beam</span><span class="p">,</span> <span class="n">member</span><span class="o">=</span><span class="s2">&quot;exterior_main_beam_2&quot;</span><span class="p">)</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">set_member</span><span class="p">(</span><span class="n">edge_longitudinal_beam</span><span class="p">,</span> <span class="n">member</span><span class="o">=</span><span class="s2">&quot;edge_beam&quot;</span><span class="p">)</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">set_member</span><span class="p">(</span><span class="n">transverse_slab</span><span class="p">,</span> <span class="n">member</span><span class="o">=</span><span class="s2">&quot;transverse_slab&quot;</span><span class="p">)</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">set_member</span><span class="p">(</span><span class="n">end_transverse_slab</span><span class="p">,</span> <span class="n">member</span><span class="o">=</span><span class="s2">&quot;start_edge&quot;</span><span class="p">)</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">set_member</span><span class="p">(</span><span class="n">end_transverse_slab</span><span class="p">,</span> <span class="n">member</span><span class="o">=</span><span class="s2">&quot;end_edge&quot;</span><span class="p">)</span>

<span class="c1"># create the model in OpenSees</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">create_osp_model</span><span class="p">(</span>
    <span class="n">pyfile</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>  <span class="c1"># pyfile will not (False) be generated for further analysis (should be create_osp?)</span>
<span class="n">og</span><span class="o">.</span><span class="n">opsplt</span><span class="o">.</span><span class="n">plot_model</span><span class="p">(</span><span class="s2">&quot;nodes&quot;</span><span class="p">)</span>  <span class="c1"># plotting using Get_rendering</span>
<span class="n">og</span><span class="o">.</span><span class="n">opsv</span><span class="o">.</span><span class="n">plot_model</span><span class="p">(</span><span class="n">az_el</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>  <span class="c1"># plotting using ops_vis</span>
</pre></div>
</div>
<p>Figure 2 shows the model plotted in OpenSees model space.</p>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="../_images/33m_bridge.PNG"><img alt="../_images/33m_bridge.PNG" src="../_images/33m_bridge.PNG" /></a>
<p class="caption"><span class="caption-text">Figure 2: Grillage model of the exemplar 33.5 m bridge.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="adding-load-cases-to-model">
<h3>Adding load cases to model<a class="headerlink" href="#adding-load-cases-to-model" title="Permalink to this headline">¶</a></h3>
<p>Here we create and add load cases to the <cite>simple_grid</cite> model for analysis.</p>
<p>The first load case is a simple line load running along mid span width, to check that the model is behaving appropriately.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># reference unit load for various load types</span>
<span class="n">P</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">*</span> <span class="n">kN</span>
<span class="c1"># name strings of load cases to be created</span>
<span class="n">static_cases_names</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;Line Test Case&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Points Test Case (Global)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Points Test Case (Local in Point)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Points Test Case (Local in Compound)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Patch Test Case&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="c1"># Line load running along midspan width (P is kN/m)</span>
<span class="c1"># Create vertical load points in global coordinate system</span>
<span class="n">line_point_1</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_load_vertex</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">L</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">P</span><span class="p">)</span>
<span class="n">line_point_2</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_load_vertex</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">L</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="n">w</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">P</span><span class="p">)</span>
<span class="n">test_line_load</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_load</span><span class="p">(</span>
    <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;line&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Test Load&quot;</span><span class="p">,</span> <span class="n">point1</span><span class="o">=</span><span class="n">line_point_1</span><span class="p">,</span> <span class="n">point2</span><span class="o">=</span><span class="n">line_point_2</span>
<span class="p">)</span>

<span class="c1"># Create load case, add loads, and assign</span>
<span class="n">line_case</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_load_case</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">static_cases_names</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">line_case</span><span class="o">.</span><span class="n">add_load</span><span class="p">(</span><span class="n">test_line_load</span><span class="p">)</span>

<span class="n">simple_grid</span><span class="o">.</span><span class="n">add_load_case</span><span class="p">(</span><span class="n">line_case</span><span class="p">)</span>
</pre></div>
</div>
<p>The second load case is comprised of several point loads, added into a single Compound Load type, so they can be manipulated as a group.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compound point loads along midspan width (P is kN)</span>
<span class="c1"># working in global coordinate system</span>
<span class="n">p_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="n">edge_dist</span><span class="p">,</span>
    <span class="n">edge_dist</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">m</span><span class="p">,</span>
    <span class="n">edge_dist</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">m</span><span class="p">,</span>
    <span class="n">edge_dist</span> <span class="o">+</span> <span class="mi">6</span> <span class="o">*</span> <span class="n">m</span><span class="p">,</span>
    <span class="n">w</span> <span class="o">-</span> <span class="n">edge_dist</span><span class="p">,</span>
    <span class="n">w</span><span class="p">,</span>
<span class="p">]</span>  <span class="c1"># creating list of load position</span>

<span class="n">test_points_load</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_compound_load</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Points Test Case (Global)&quot;</span><span class="p">)</span>

<span class="c1"># create point load in global coordinate</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">p_list</span><span class="p">:</span>
    <span class="n">point</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_load</span><span class="p">(</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;point&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Point&quot;</span><span class="p">,</span> <span class="n">point1</span><span class="o">=</span><span class="n">og</span><span class="o">.</span><span class="n">create_load_vertex</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">L</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="n">p</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">P</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="c1"># add to compound load</span>
    <span class="n">test_points_load</span><span class="o">.</span><span class="n">add_load</span><span class="p">(</span><span class="n">load_obj</span><span class="o">=</span><span class="n">point</span><span class="p">)</span>

<span class="c1"># Create load case, add loads, and assign</span>
<span class="n">points_case</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_load_case</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">static_cases_names</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">points_case</span><span class="o">.</span><span class="n">add_load</span><span class="p">(</span><span class="n">test_points_load</span><span class="p">)</span>

<span class="n">simple_grid</span><span class="o">.</span><span class="n">add_load_case</span><span class="p">(</span><span class="n">points_case</span><span class="p">)</span>
</pre></div>
</div>
<p>The third load case is identical to the second load case with Compounded point loads, but this time defining Compound loads in Local coordinates then mapping the local coordinate system of the compound load to the global coordinates of the grillage model.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compound point loads along midspan width</span>
<span class="c1"># working in user-defined local coordinate (in point load)</span>
<span class="n">test_points_load</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_compound_load</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Points Test Case (Local in Point)&quot;</span><span class="p">)</span>

<span class="c1"># create point load in local coordinate space</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">p_list</span><span class="p">:</span>
    <span class="n">point</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_load</span><span class="p">(</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;point&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Point&quot;</span><span class="p">,</span> <span class="n">point1</span><span class="o">=</span><span class="n">og</span><span class="o">.</span><span class="n">create_load_vertex</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="n">p</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">P</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="c1"># add to compound load</span>
    <span class="n">test_points_load</span><span class="o">.</span><span class="n">add_load</span><span class="p">(</span><span class="n">load_obj</span><span class="o">=</span><span class="n">point</span><span class="p">)</span>

<span class="c1"># shift from local to global</span>
<span class="n">test_points_load</span><span class="o">.</span><span class="n">set_global_coord</span><span class="p">(</span><span class="n">og</span><span class="o">.</span><span class="n">Point</span><span class="p">(</span><span class="n">L</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="c1"># Create load case, add loads, and assign</span>
<span class="n">points_case</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_load_case</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">static_cases_names</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="n">points_case</span><span class="o">.</span><span class="n">add_load</span><span class="p">(</span><span class="n">test_points_load</span><span class="p">)</span>

<span class="n">simple_grid</span><span class="o">.</span><span class="n">add_load_case</span><span class="p">(</span><span class="n">points_case</span><span class="p">)</span>
</pre></div>
</div>
<p>The fourth load case entails a patch load:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Patch load over entire bridge deck (P is kN/m2)</span>
<span class="n">patch_point_1</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_load_vertex</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">P</span><span class="p">)</span>
<span class="n">patch_point_2</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_load_vertex</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">L</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">P</span><span class="p">)</span>
<span class="n">patch_point_3</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_load_vertex</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">L</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="n">w</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">P</span><span class="p">)</span>
<span class="n">patch_point_4</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_load_vertex</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="n">w</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">P</span><span class="p">)</span>
<span class="n">test_patch_load</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_load</span><span class="p">(</span>
    <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;patch&quot;</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Test Load&quot;</span><span class="p">,</span>
    <span class="n">point1</span><span class="o">=</span><span class="n">patch_point_1</span><span class="p">,</span>
    <span class="n">point2</span><span class="o">=</span><span class="n">patch_point_2</span><span class="p">,</span>
    <span class="n">point3</span><span class="o">=</span><span class="n">patch_point_3</span><span class="p">,</span>
    <span class="n">point4</span><span class="o">=</span><span class="n">patch_point_4</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Create load case, add loads, and assign</span>
<span class="n">patch_case</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_load_case</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">static_cases_names</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="n">patch_case</span><span class="o">.</span><span class="n">add_load</span><span class="p">(</span><span class="n">test_patch_load</span><span class="p">)</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">add_load_case</span><span class="p">(</span><span class="n">patch_case</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-a-moving-load-analysis">
<h3>Adding a moving load analysis<a class="headerlink" href="#adding-a-moving-load-analysis" title="Permalink to this headline">¶</a></h3>
<p>For bridge loading, it is imperative to model loads that move, and to consider the static analysis of the bridge deck under each position of the moving load.
Here’s how we create and add a moving load (e.g. a truck) to the 28 m bridge model.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 2 axle truck (equal loads, 2x2 spacing centre line running)</span>
<span class="n">axl_w</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">m</span>  <span class="c1"># axle width</span>
<span class="n">axl_s</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">m</span>  <span class="c1"># axle spacing</span>
<span class="n">veh_l</span> <span class="o">=</span> <span class="n">axl_s</span>  <span class="c1"># vehicle length</span>
<span class="c1"># create truck in local coordinate system</span>
<span class="n">two_axle_truck</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_compound_load</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Two Axle Truck&quot;</span><span class="p">)</span>
<span class="c1"># note here we show that we can directly interact and create load vertex using LoadPoint namedtuple instead of create_load_vertex()</span>
<span class="n">point1</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_load</span><span class="p">(</span>
    <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;point&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Point&quot;</span><span class="p">,</span> <span class="n">point1</span><span class="o">=</span><span class="n">og</span><span class="o">.</span><span class="n">LoadPoint</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">P</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">point2</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_load</span><span class="p">(</span>
    <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;point&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Point&quot;</span><span class="p">,</span> <span class="n">point1</span><span class="o">=</span><span class="n">og</span><span class="o">.</span><span class="n">LoadPoint</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="n">axl_w</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">P</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">point3</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_load</span><span class="p">(</span>
    <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;point&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Point&quot;</span><span class="p">,</span> <span class="n">point1</span><span class="o">=</span><span class="n">og</span><span class="o">.</span><span class="n">LoadPoint</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">axl_s</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="n">axl_w</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">P</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">point4</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_load</span><span class="p">(</span>
    <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;point&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Point&quot;</span><span class="p">,</span> <span class="n">point1</span><span class="o">=</span><span class="n">og</span><span class="o">.</span><span class="n">LoadPoint</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">axl_s</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">P</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">two_axle_truck</span><span class="o">.</span><span class="n">add_load</span><span class="p">(</span><span class="n">load_obj</span><span class="o">=</span><span class="n">point1</span><span class="p">)</span>
<span class="n">two_axle_truck</span><span class="o">.</span><span class="n">add_load</span><span class="p">(</span><span class="n">load_obj</span><span class="o">=</span><span class="n">point2</span><span class="p">)</span>
<span class="n">two_axle_truck</span><span class="o">.</span><span class="n">add_load</span><span class="p">(</span><span class="n">load_obj</span><span class="o">=</span><span class="n">point3</span><span class="p">)</span>
<span class="n">two_axle_truck</span><span class="o">.</span><span class="n">add_load</span><span class="p">(</span><span class="n">load_obj</span><span class="o">=</span><span class="n">point4</span><span class="p">)</span>

<span class="c1"># create path object in global coordinate system - centre line running of entire span</span>
<span class="c1"># when local coord: the path describes where the moving load *origin* is to start and end</span>
<span class="n">single_path</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_moving_path</span><span class="p">(</span>
    <span class="n">start_point</span><span class="o">=</span><span class="n">og</span><span class="o">.</span><span class="n">Point</span><span class="p">(</span><span class="mi">0</span> <span class="o">-</span> <span class="n">axl_w</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">w</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">axl_w</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span>
    <span class="n">end_point</span><span class="o">=</span><span class="n">og</span><span class="o">.</span><span class="n">Point</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">w</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">axl_w</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span>
    <span class="n">increments</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">L</span> <span class="o">+</span> <span class="n">veh_l</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span>
<span class="p">)</span>

<span class="c1"># create moving load (and case)</span>
<span class="n">moving_truck</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_moving_load</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Moving Two Axle Truck&quot;</span><span class="p">)</span>

<span class="c1"># Set path to all loads defined within moving_truck</span>
<span class="n">moving_truck</span><span class="o">.</span><span class="n">set_path</span><span class="p">(</span><span class="n">single_path</span><span class="p">)</span>
<span class="c1"># note: it is possible to set different paths for different compound loads in one moving load object</span>
<span class="n">moving_truck</span><span class="o">.</span><span class="n">add_loads</span><span class="p">(</span><span class="n">two_axle_truck</span><span class="p">)</span>

<span class="c1"># Assign</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">add_load_case</span><span class="p">(</span><span class="n">moving_truck</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="analysis">
<h3>Analysis<a class="headerlink" href="#analysis" title="Permalink to this headline">¶</a></h3>
<p>Next, analyze all load cases added to the model:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run analysis</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">analyze</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="getting-load-case-results">
<h3>Getting load case results<a class="headerlink" href="#getting-load-case-results" title="Permalink to this headline">¶</a></h3>
<p>Finally, get the <cite>xarray</cite> DataSet of the results:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">simple_grid</span><span class="o">.</span><span class="n">get_results</span><span class="p">()</span> <span class="c1"># gets basic results</span>
</pre></div>
</div>
<p>For information on the returned object from <a class="reference internal" href="generated/ospgrillage.osp_grillage.OspGrillage.get_results.html#ospgrillage.osp_grillage.OspGrillage.get_results" title="ospgrillage.osp_grillage.OspGrillage.get_results"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_results()</span></code></a>, see <span class="xref std std-ref">PostProcessing</span>.</p>
</div>
<div class="section" id="getting-load-combination-results">
<h3>Getting load combination results<a class="headerlink" href="#getting-load-combination-results" title="Permalink to this headline">¶</a></h3>
<p>With the results of the basic load cases now known, we can calculate factored combinations of these load cases that are of interest:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">l_factor</span> <span class="o">=</span> <span class="mf">2.3</span>
<span class="n">p_factor</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="c1"># combination with line load case and patch load case</span>
<span class="n">load_combinations</span> <span class="o">=</span> <span class="p">{</span><span class="n">static_cases_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span><span class="n">l_factor</span><span class="p">,</span><span class="n">static_cases_names</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span><span class="n">p_factor</span><span class="p">}</span>
<span class="n">combination_results</span> <span class="o">=</span> <span class="n">simple_grid</span><span class="o">.</span><span class="n">get_results</span><span class="p">(</span><span class="n">combinations</span><span class="o">=</span><span class="n">load_combinations</span><span class="p">)</span>
</pre></div>
</div>
<p>Refer to <span class="xref std std-ref">Running_analysis</span> for more information on the <cite>xarray</cite> formats for load combinations.</p>
</div>
<div class="section" id="data-processing">
<h3>Data processing<a class="headerlink" href="#data-processing" title="Permalink to this headline">¶</a></h3>
<p>Having the results be in <cite>xarray</cite> DataSet, we can do many things with it such as slicing and query its data.</p>
<p>The following example shows how to extract bending moments at midspan - the critical location for the defined load cases.</p>
<p>First for static load cases, we extract bending moments about the global <span class="math notranslate nohighlight">\(z\)</span>-axis for each <cite>i</cite> node of grillage member (since <cite>i</cite> node correspond to the nodes in the mid span).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># get list of longitudinal element tags along/near mid_span i.e. 84 to 90 in Figure 1</span>
<span class="n">ele_set</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">84</span><span class="p">,</span> <span class="mi">90</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
<span class="c1"># query</span>
<span class="n">extracted_bending</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">forces</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">Loadcase</span><span class="o">=</span><span class="n">static_cases_names</span><span class="p">,</span> <span class="n">Element</span><span class="o">=</span><span class="n">ele_set</span><span class="p">,</span> <span class="n">Component</span><span class="o">=</span><span class="s2">&quot;Mz_i&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <cite>extracted_bending</cite> variable holds the load case for ‘Line Test Case’, ‘Point Test Case(Global)’, ‘Points Test Case (Local in Point)’,
‘Points Test Case (Local in Compound)’, ‘Patch Test Case’.</p>
<p>Should we sum the nodal forces from members on one side, we expect it to approximately equal PL/4:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span>
<span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
    <span class="n">results</span><span class="o">.</span><span class="n">forces</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span>
        <span class="n">Loadcase</span><span class="o">=</span><span class="n">static_cases_names</span><span class="p">,</span> <span class="n">Element</span><span class="o">=</span><span class="n">ele_set</span><span class="p">,</span> <span class="n">Component</span><span class="o">=</span><span class="s2">&quot;Mz_i&quot;</span>
    <span class="p">)</span>
<span class="p">),</span>
<span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="process-load-combinations-results">
<h3>Process load combinations results<a class="headerlink" href="#process-load-combinations-results" title="Permalink to this headline">¶</a></h3>
<p>Here we sum the nodal forces from the mid span - <cite>i</cite> node
.. code-block:: python</p>
<blockquote>
<div><dl class="simple">
<dt>sum_node_force = np.sum(</dt><dd><p>np.array(combo_results.forces.sel(Element=ele_set, Component=”Mz_i”))</p>
</dd>
</dl>
<p>)</p>
</div></blockquote>
</div>
<div class="section" id="extract-and-process-moving-load-results">
<h3>Extract and process moving load results<a class="headerlink" href="#extract-and-process-moving-load-results" title="Permalink to this headline">¶</a></h3>
<p>Here we <a class="reference internal" href="PostProcessing.html#access-results"><span class="std std-ref">Accessing and querying data</span></a> of the moving load case.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># call the results and</span>
<span class="n">move_results</span> <span class="o">=</span> <span class="n">simple_grid</span><span class="o">.</span><span class="n">get_results</span><span class="p">(</span><span class="n">load_case</span><span class="o">=</span><span class="s2">&quot;Moving Two Axle Truck&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>One can query results at specific position of the moving load by looking up the index of load case.</p>
<p>In the following example we query the bending moment about <span class="math notranslate nohighlight">\(z\)</span>-axis component, with the load case corresponding to where the load groups are at/near midspan L = 16.75 m, and the longitudinal elements along/near mid-span, i.e. element 84 to 90 in Figure 1:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># selecting load case of specific load position</span>
<span class="n">integer</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
    <span class="n">L</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span>
<span class="p">)</span>  <span class="c1"># here we choose when the load groups are at/near mid span L = 14m i.e. 17</span>

<span class="c1"># query</span>
<span class="n">mid_span_bending</span> <span class="o">=</span> <span class="n">move_results</span><span class="o">.</span><span class="n">forces</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">Loadcase</span><span class="o">=</span><span class="n">integer</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span>
    <span class="n">Element</span><span class="o">=</span><span class="n">ele_set</span><span class="p">,</span> <span class="n">Component</span><span class="o">=</span><span class="s2">&quot;Mz_i&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Finally, summing the query of bending moment and comparing with theoretical calculation:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bending_z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">mid_span_bending</span><span class="p">))</span>

<span class="c1"># Hand calc:</span>
<span class="n">bending_z_theoretical</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">P</span><span class="o">*</span><span class="p">(</span><span class="n">L</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="n">axl_s</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># 31500</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;bending_z =</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">bending_z</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;bending_z_theoretical =</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">bending_z_theoretical</span><span class="p">))</span>
</pre></div>
</div>
<p>The following is printed to terminal (units in N m) :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bending_z</span> <span class="o">=</span> <span class="mf">31499.999999999913</span>
<span class="n">bending_z_theoretical</span> <span class="o">=</span> <span class="mf">31500.0</span>
</pre></div>
</div>
<p>and these are a good match.</p>
</div>
</div>
<div class="section" id="super-t-bridge-model-using-shell-hybrid-model-type">
<h2>Super-T bridge model using shell hybrid model type<a class="headerlink" href="#super-t-bridge-model-using-shell-hybrid-model-type" title="Permalink to this headline">¶</a></h2>
<p>Here we recreate the previous 33.5 m super-T bridge using the shell-beam hybrid model type.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">ospgrillage</span> <span class="k">as</span> <span class="nn">og</span>

<span class="c1"># Adopted units: N and m</span>
<span class="n">kilo</span> <span class="o">=</span> <span class="mf">1e3</span>
<span class="n">milli</span> <span class="o">=</span> <span class="mf">1e-3</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">mm</span> <span class="o">=</span> <span class="n">milli</span> <span class="o">*</span> <span class="n">m</span>
<span class="n">m2</span> <span class="o">=</span> <span class="n">m</span> <span class="o">**</span> <span class="mi">2</span>
<span class="n">m3</span> <span class="o">=</span> <span class="n">m</span> <span class="o">**</span> <span class="mi">3</span>
<span class="n">m4</span> <span class="o">=</span> <span class="n">m</span> <span class="o">**</span> <span class="mi">4</span>
<span class="n">kN</span> <span class="o">=</span> <span class="n">kilo</span> <span class="o">*</span> <span class="n">N</span>
<span class="n">MPa</span> <span class="o">=</span> <span class="n">N</span> <span class="o">/</span> <span class="p">((</span><span class="n">mm</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">GPa</span> <span class="o">=</span> <span class="n">kilo</span> <span class="o">*</span> <span class="n">MPa</span>

<span class="c1"># define material</span>
<span class="n">concrete</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_material</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;concrete&quot;</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="s2">&quot;AS5100-2017&quot;</span><span class="p">,</span> <span class="n">grade</span><span class="o">=</span><span class="s2">&quot;65MPa&quot;</span><span class="p">)</span>

<span class="c1"># define sections (parameters from LUSAS model)</span>
<span class="n">edge_longitudinal_section</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_section</span><span class="p">(</span>
    <span class="n">A</span><span class="o">=</span><span class="mf">0.934</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
    <span class="n">J</span><span class="o">=</span><span class="mf">0.1857</span> <span class="o">*</span> <span class="n">m3</span><span class="p">,</span>
    <span class="n">Iz</span><span class="o">=</span><span class="mf">0.3478</span> <span class="o">*</span> <span class="n">m4</span><span class="p">,</span>
    <span class="n">Iy</span><span class="o">=</span><span class="mf">0.213602</span> <span class="o">*</span> <span class="n">m4</span><span class="p">,</span>
    <span class="n">Az</span><span class="o">=</span><span class="mf">0.444795</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
    <span class="n">Ay</span><span class="o">=</span><span class="mf">0.258704</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">longitudinal_section</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_section</span><span class="p">(</span>
    <span class="n">A</span><span class="o">=</span><span class="mf">1.025</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
    <span class="n">J</span><span class="o">=</span><span class="mf">0.1878</span> <span class="o">*</span> <span class="n">m3</span><span class="p">,</span>
    <span class="n">Iz</span><span class="o">=</span><span class="mf">0.3694</span> <span class="o">*</span> <span class="n">m4</span><span class="p">,</span>
    <span class="n">Iy</span><span class="o">=</span><span class="mf">0.113887e-3</span> <span class="o">*</span> <span class="n">m4</span><span class="p">,</span>
    <span class="n">Az</span><span class="o">=</span><span class="mf">0.0371929</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
    <span class="n">Ay</span><span class="o">=</span><span class="mf">0.0371902</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">transverse_section</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_section</span><span class="p">(</span>
    <span class="n">A</span><span class="o">=</span><span class="mf">0.504</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
    <span class="n">J</span><span class="o">=</span><span class="mf">5.22303e-3</span> <span class="o">*</span> <span class="n">m3</span><span class="p">,</span>
    <span class="n">Iy</span><span class="o">=</span><span class="mf">0.32928</span> <span class="o">*</span> <span class="n">m4</span><span class="p">,</span>
    <span class="n">Iz</span><span class="o">=</span><span class="mf">1.3608e-3</span> <span class="o">*</span> <span class="n">m4</span><span class="p">,</span>
    <span class="n">Ay</span><span class="o">=</span><span class="mf">0.42</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
    <span class="n">Az</span><span class="o">=</span><span class="mf">0.42</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">end_transverse_section</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_section</span><span class="p">(</span>
    <span class="n">A</span><span class="o">=</span><span class="mf">0.504</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
    <span class="n">J</span><span class="o">=</span><span class="mf">2.5012e-3</span> <span class="o">*</span> <span class="n">m3</span><span class="p">,</span>
    <span class="n">Iy</span><span class="o">=</span><span class="mf">0.04116</span> <span class="o">*</span> <span class="n">m4</span><span class="p">,</span>
    <span class="n">Iz</span><span class="o">=</span><span class="mf">0.6804e-3</span> <span class="o">*</span> <span class="n">m4</span><span class="p">,</span>
    <span class="n">Ay</span><span class="o">=</span><span class="mf">0.21</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
    <span class="n">Az</span><span class="o">=</span><span class="mf">0.21</span> <span class="o">*</span> <span class="n">m2</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># define grillage members</span>
<span class="n">longitudinal_beam</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_member</span><span class="p">(</span><span class="n">section</span><span class="o">=</span><span class="n">longitudinal_section</span><span class="p">,</span> <span class="n">material</span><span class="o">=</span><span class="n">concrete</span><span class="p">)</span>
<span class="n">edge_longitudinal_beam</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_member</span><span class="p">(</span>
    <span class="n">section</span><span class="o">=</span><span class="n">edge_longitudinal_section</span><span class="p">,</span> <span class="n">material</span><span class="o">=</span><span class="n">concrete</span>
<span class="p">)</span>
<span class="n">transverse_slab</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_member</span><span class="p">(</span><span class="n">section</span><span class="o">=</span><span class="n">transverse_section</span><span class="p">,</span> <span class="n">material</span><span class="o">=</span><span class="n">concrete</span><span class="p">)</span>
<span class="n">end_transverse_slab</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_member</span><span class="p">(</span>
    <span class="n">section</span><span class="o">=</span><span class="n">end_transverse_section</span><span class="p">,</span> <span class="n">material</span><span class="o">=</span><span class="n">concrete</span>
<span class="p">)</span>

<span class="c1"># parameters of bridge grillage</span>
<span class="n">L</span> <span class="o">=</span> <span class="mf">33.5</span> <span class="o">*</span> <span class="n">m</span>  <span class="c1"># span</span>
<span class="n">w</span> <span class="o">=</span> <span class="mf">11.565</span> <span class="o">*</span> <span class="n">m</span>  <span class="c1"># width</span>
<span class="n">n_l</span> <span class="o">=</span> <span class="mi">7</span>  <span class="c1"># number of longitudinal members</span>
<span class="n">n_t</span> <span class="o">=</span> <span class="mi">11</span>  <span class="c1"># number of transverse members</span>
<span class="n">edge_dist</span> <span class="o">=</span> <span class="mf">1.05</span> <span class="o">*</span> <span class="n">m</span>  <span class="c1"># distance between edge beam and first exterior beam</span>
<span class="n">angle</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># skew angle</span>
<span class="n">offset_beam_y</span> <span class="o">=</span> <span class="mf">0.499</span> <span class="o">*</span> <span class="n">m</span>
<span class="n">max_mesh_size_z</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">*</span> <span class="n">m</span>
<span class="n">max_mesh_size_x</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">*</span> <span class="n">m</span>
<span class="n">link_nodes_width</span> <span class="o">=</span> <span class="mf">0.89</span> <span class="o">*</span> <span class="n">m</span>

<span class="c1"># create grillage - shell model variant</span>
<span class="n">simple_grid</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_grillage</span><span class="p">(</span>
    <span class="n">bridge_name</span><span class="o">=</span><span class="s2">&quot;Super-T 33_5m&quot;</span><span class="p">,</span>
    <span class="n">long_dim</span><span class="o">=</span><span class="n">L</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="n">w</span><span class="p">,</span>
    <span class="n">skew</span><span class="o">=</span><span class="n">angle</span><span class="p">,</span>
    <span class="n">num_long_grid</span><span class="o">=</span><span class="n">n_l</span><span class="p">,</span>
    <span class="n">num_trans_grid</span><span class="o">=</span><span class="n">n_t</span><span class="p">,</span>
    <span class="n">edge_beam_dist</span><span class="o">=</span><span class="n">edge_dist</span><span class="p">,</span>
    <span class="n">model_type</span><span class="o">=</span><span class="s2">&quot;shell_beam&quot;</span><span class="p">,</span>
    <span class="n">max_mesh_size_z</span><span class="o">=</span><span class="n">max_mesh_size_z</span><span class="p">,</span>
    <span class="n">max_mesh_size_x</span><span class="o">=</span><span class="n">max_mesh_size_x</span><span class="p">,</span>
    <span class="n">offset_beam_y_dist</span><span class="o">=</span><span class="n">offset_beam_y</span><span class="p">,</span>
    <span class="n">link_nodes_width</span><span class="o">=</span><span class="n">link_nodes_width</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># assign grillage member to element groups of grillage model</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">set_member</span><span class="p">(</span><span class="n">longitudinal_beam</span><span class="p">,</span> <span class="n">member</span><span class="o">=</span><span class="s2">&quot;interior_main_beam&quot;</span><span class="p">)</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">set_member</span><span class="p">(</span><span class="n">longitudinal_beam</span><span class="p">,</span> <span class="n">member</span><span class="o">=</span><span class="s2">&quot;exterior_main_beam_1&quot;</span><span class="p">)</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">set_member</span><span class="p">(</span><span class="n">longitudinal_beam</span><span class="p">,</span> <span class="n">member</span><span class="o">=</span><span class="s2">&quot;exterior_main_beam_2&quot;</span><span class="p">)</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">set_member</span><span class="p">(</span><span class="n">edge_longitudinal_beam</span><span class="p">,</span> <span class="n">member</span><span class="o">=</span><span class="s2">&quot;edge_beam&quot;</span><span class="p">)</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">set_member</span><span class="p">(</span><span class="n">transverse_slab</span><span class="p">,</span> <span class="n">member</span><span class="o">=</span><span class="s2">&quot;transverse_slab&quot;</span><span class="p">)</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">set_member</span><span class="p">(</span><span class="n">end_transverse_slab</span><span class="p">,</span> <span class="n">member</span><span class="o">=</span><span class="s2">&quot;start_edge&quot;</span><span class="p">)</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">set_member</span><span class="p">(</span><span class="n">end_transverse_slab</span><span class="p">,</span> <span class="n">member</span><span class="o">=</span><span class="s2">&quot;end_edge&quot;</span><span class="p">)</span>

<span class="c1"># create the model in OpenSees</span>
<span class="n">simple_grid</span><span class="o">.</span><span class="n">create_osp_model</span><span class="p">(</span>
    <span class="n">pyfile</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>  <span class="c1"># pyfile will not (False) be generated for further analysis (should be create_osp?)</span>
<span class="n">og</span><span class="o">.</span><span class="n">opsplt</span><span class="o">.</span><span class="n">plot_model</span><span class="p">(</span><span class="s2">&quot;nodes&quot;</span><span class="p">)</span>  <span class="c1"># plotting using Get_rendering</span>
<span class="c1"># ops_vis does not work for hybrid model</span>
</pre></div>
</div>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="../_images/33m_bridge_shell.PNG"><img alt="../_images/33m_bridge_shell.PNG" src="../_images/33m_bridge_shell.PNG" /></a>
<p class="caption"><span class="caption-text">Figure 3: 33.5m exemplar bridge built with shell hybrid model.</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="oblique-vs-orthogonal-mesh">
<h2>Oblique vs Orthogonal Mesh<a class="headerlink" href="#oblique-vs-orthogonal-mesh" title="Permalink to this headline">¶</a></h2>
<p>Here are some more examples showing the two types of meshes by altering the <code class="docutils literal notranslate"><span class="pre">mesh_typ</span></code> input of
<a class="reference internal" href="generated/ospgrillage.osp_grillage.create_grillage.html#ospgrillage.osp_grillage.create_grillage" title="ospgrillage.osp_grillage.create_grillage"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_grillage()</span></code></a>.</p>
<ul class="simple">
<li><p>28 m bridge with <code class="xref py py-func docutils literal notranslate"><span class="pre">Oblique()</span></code> mesh - positive 20 degree</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">example_bridge</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_grillage</span><span class="p">(</span>
    <span class="n">bridge_name</span><span class="o">=</span><span class="s2">&quot;Oblique_28m&quot;</span><span class="p">,</span>
    <span class="n">long_dim</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
    <span class="n">skew</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">num_long_grid</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
    <span class="n">num_trans_grid</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">edge_beam_dist</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">mesh_type</span><span class="o">=</span><span class="s2">&quot;Oblique&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center" id="id4">
<a class="reference internal image-reference" href="../_images/standard_oblique.PNG"><img alt="../_images/standard_oblique.PNG" src="../_images/standard_oblique.PNG" /></a>
<p class="caption"><span class="caption-text">Figure 4: Grillage with oblique mesh</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<ul class="simple">
<li><p>28 m bridge with <code class="xref py py-func docutils literal notranslate"><span class="pre">Ortho()</span></code> mesh</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">example_bridge</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_grillage</span><span class="p">(</span>
    <span class="n">bridge_name</span><span class="o">=</span><span class="s2">&quot;Ortho_28m&quot;</span><span class="p">,</span>
    <span class="n">long_dim</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
    <span class="n">skew</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">num_long_grid</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
    <span class="n">num_trans_grid</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">edge_beam_dist</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">mesh_type</span><span class="o">=</span><span class="s2">&quot;Ortho&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center" id="id5">
<a class="reference internal image-reference" href="../_images/standard_ortho.PNG"><img alt="../_images/standard_ortho.PNG" src="../_images/standard_ortho.PNG" /></a>
<p class="caption"><span class="caption-text">Figure 5: Grillage with orthogonal</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="skew-edges-of-mesh">
<h2>Skew edges of mesh<a class="headerlink" href="#skew-edges-of-mesh" title="Permalink to this headline">¶</a></h2>
<p>Here is an example showing the types of edge skew you can produce with <em>ospgrillage</em>.
A version the aforementioned 28 m grillage model example is given but
with different parameters for its grillage object i.e. <code class="xref py py-func docutils literal notranslate"><span class="pre">create_grillage()</span></code>.
This time we have varied span to 10 m, and edge skew angles - left edge is 42 degrees, right edge is 0 degrees (orthogonal).</p>
<p>The following portion of the code is altered which then produces a grillage model with mesh as shown in Figure 6:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">example_bridge</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">create_grillage</span><span class="p">(</span>
    <span class="n">bridge_name</span><span class="o">=</span><span class="s2">&quot;SuperT_10m&quot;</span><span class="p">,</span>
    <span class="n">long_dim</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
    <span class="n">skew</span><span class="o">=</span><span class="p">[</span><span class="mi">42</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="n">num_long_grid</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
    <span class="n">num_trans_grid</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">edge_beam_dist</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">mesh_type</span><span class="o">=</span><span class="s2">&quot;Ortho&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">example_bridge</span><span class="o">.</span><span class="n">create_ops</span><span class="p">(</span><span class="n">pyfile</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">og</span><span class="o">.</span><span class="n">opsplt</span><span class="o">.</span><span class="n">plot_model</span><span class="p">(</span><span class="s2">&quot;nodes&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center" id="id6">
<a class="reference internal image-reference" href="../_images/42_0_mesh.PNG"><img alt="../_images/42_0_mesh.PNG" src="../_images/42_0_mesh.PNG" /></a>
<p class="caption"><span class="caption-text">Figure 6: Orthogonal mesh with left and right edge angle of 42 and 0 respectively.</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="ModuleDoc.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Package design</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="ChangeLog.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Change Log</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, Justin Ngan, Colin Caprani.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.0.2.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>