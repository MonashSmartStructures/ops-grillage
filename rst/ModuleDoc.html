

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Module design &mdash; ospgrillage module 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Examples" href="Examples.html" />
    <link rel="prev" title="ospgrillage.mesh.create_point" href="generated/ospgrillage.mesh.create_point.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ospgrillage module
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Module%20description.html">Creating grillage models</a></li>
<li class="toctree-l1"><a class="reference internal" href="ModelTemplates.html">Grillage model templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="Running_analysis.html">Performing analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="PostProcessing.html">Post-Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="APIdoc.html">API reference</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Module design</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#grillage-model">Grillage model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#model-space">Model space</a></li>
<li class="toctree-l3"><a class="reference internal" href="#coordinate-system">Coordinate system</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#meshing-procedure">Meshing Procedure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#meshing-algorithm">Meshing algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="#meshing-rules">Meshing Rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#meshing-steps">Meshing steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="#grid-groups">Grid groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mesh-variables">Mesh variables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#local-vs-global-coordinate-system">Local vs global coordinate system</a></li>
<li class="toctree-l2"><a class="reference internal" href="#links-to-module-components">Links to module components</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#links-to-useful-resources">Links to useful resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="#further-development">Further development</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="ChangeLog.html">Change Log</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ospgrillage module</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Module design</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/rst/ModuleDoc.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-design">
<h1>Module design<a class="headerlink" href="#module-design" title="Permalink to this headline">¶</a></h1>
<p>This page details the processes within <em>ospgrillage</em> module. In providing the outline of processes,
the developers welcome any improvements to its procedures via pull requests.</p>
<div class="section" id="grillage-model">
<h2>Grillage model<a class="headerlink" href="#grillage-model" title="Permalink to this headline">¶</a></h2>
<p>The <em>ospgrillage</em> module generates a two-dimensional (2D) grillage model of a bridge deck in OpenSees - see Figure 1.</p>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../_images/Figure_1.png"><img alt="../_images/Figure_1.png" src="../_images/Figure_1.png" /></a>
<p class="caption"><span class="caption-text">Figure 1: Typical grillage model nodes.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="model-space">
<h3>Model space<a class="headerlink" href="#model-space" title="Permalink to this headline">¶</a></h3>
<p>By default the <code class="xref py py-class docutils literal notranslate"><span class="pre">OpsGrillage</span></code> object creates a 2-D grillage model that exist in the 3-D model space.
The model has 6 degrees-of-freedom at each nodes. The grillage model plane lies in the x-z plane of the coordinate system.
For a 2-D model space, the model plane is the x-y plane.</p>
<p>Development for 1-D models in 2-D space is yet to complete but we welcome any pull request for it.</p>
</div>
<div class="section" id="coordinate-system">
<h3>Coordinate system<a class="headerlink" href="#coordinate-system" title="Permalink to this headline">¶</a></h3>
<p>The module adopts the following coordinate system for grillage models:</p>
<ul class="simple">
<li><p>global x direction defines the length of the bridge model - typically the span of the model.</p></li>
<li><p>global z direction defines the width of the bridge model - the slabs elements are layed in this axis direction.</p></li>
<li><p>global y direction is the vertical axis - typically the direction of loads</p></li>
</ul>
<p>Two reasons behind selecting the coordinate system:</p>
<ol class="arabic simple">
<li><p>To be consistent with geometric transformation (from local to global) of OpenSees. The geometric transformation is used in Section definition, with local X being the axial direction
of beam/truss members; where y and z axes being the vertical and horizontal axis of the local coordinate system respectively.</p></li>
<li><p>To be consistent with 1D problems where the working axis for 1-D models is typically <em>x</em> (horizontal axis) and <em>y</em> (vertical axis).</p></li>
</ol>
</div>
</div>
<div class="section" id="meshing-procedure">
<h2>Meshing Procedure<a class="headerlink" href="#meshing-procedure" title="Permalink to this headline">¶</a></h2>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">OspGrillage</span></code> class handles a <code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code> class object which stores information of the grillage mesh, such as:</p>
<ul class="simple">
<li><p>Nodes</p></li>
<li><p>Elements</p></li>
<li><p>Element local transformation of sections and materials</p></li>
<li><p>Grouping of grillage elements for calculating properties and assigning members.</p></li>
<li><p>width and distance between</p></li>
</ul>
<div class="section" id="meshing-algorithm">
<h3>Meshing algorithm<a class="headerlink" href="#meshing-algorithm" title="Permalink to this headline">¶</a></h3>
<p>Figure 2 shows an bridge mesh nodes as an explanatory example.</p>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="../_images/Moduledoc_1.PNG"><img alt="../_images/Moduledoc_1.PNG" src="../_images/Moduledoc_1.PNG" /></a>
<p class="caption"><span class="caption-text">Figure 2: Meshing construction lines, showing start edge construction line (Blue), end edge construction line (Green), sweep path (Black) and sweeping nodes (Red).</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>Meshing algorithm is controlled by the <code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code> class object. The following components are generated to
define the nodes and elements of the mesh:</p>
<ol class="arabic simple">
<li><p><strong>Construction line at edge of model &#64; the start of the span (start_span_edge)</strong>
A construction line consisting of the edge of the model is first defined. Construction line consist of nodes that
coincide with the number and position of longitudinal beams in the model. The angle of the construction line is based on skew angle
(skew_1). By default, the reference point of the construction line coincide with the origin [0,0,0] of the model space.</p></li>
<li><p><strong>Construction line at edge of model &#64; the end of the span (end_span_edge)</strong>
Similar to (1), the construction line at the end of the span is created based on number of longitudinal beam. The
spacing of the nodes in the z direction is identical to that of the first construction line. By default the skew angle
of this second construction (skew_2) can be different. In constrast, the reference point of second construction line
is [L, 0 ,f(L)] where L is the length of the model, and f(L) is the z coordinate of the reference node based on
the defined sweep path of the model - this is next explained</p></li>
<li><p><strong>Sweep Path</strong> By default, the sweep path of the model is a straight line of y = 0 which starts at the origin [0,0,0] of model space.
A few option</p></li>
</ol>
</div>
<div class="section" id="meshing-rules">
<h3>Meshing Rules<a class="headerlink" href="#meshing-rules" title="Permalink to this headline">¶</a></h3>
<p>In grillages, transverse members are often arranged orthogonally to longitudinal members. When skew angles are small
(less than 30 degrees angle), orthogonal mesh can be impractical and a skew (Oblique) mesh is usually selected instead.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Up to version 0.1.0, the grillage wizard allow users to freely choose between orthogonal and oblique meshes for
angles between 11 to 30 degrees. An error exception will be returned when users select “orthogonal mesh”
but having skew angle less than “11 degrees” - and vice versa. The numbers of 11 and 30 degrees are selected based
on common industrial practice of grillage analysis.</p>
</div>
</div>
<div class="section" id="meshing-steps">
<h3>Meshing steps<a class="headerlink" href="#meshing-steps" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Starting at first construction line, algorithm checks the angle of the construction line relative to the tangent/slope</p></li>
</ol>
<blockquote>
<div><p>of the sweep line at the first position (i.e. &#64; [0,0,0])</p>
</div></blockquote>
<ol class="arabic simple">
<li><p>If mesh type for the given angle of construction line is permitted, a for loop procedure is initiated.
The iteration: (1) goes through every point in the construction line, (2) find the point on the sweep path whose normal vector
intersects the current point of the construction line, (3) create the nodes bounded between the current point and the intersection
point on the sweep line - see figure below. If mesh type is not valid, the process skips to step 3.</p></li>
<li><p>If angle is not permitted, the construction line is taken as the sweep node line. An iteration goes
through all points on construction line and assigns them as nodes. Then the process move to the step 4.</p></li>
<li><p>Similar to step 2, step 4 comprise the process of step 2 but conducted for the second construction line instead.</p></li>
<li><p>Remaining uniformly spaced nodes between the two construction lines are now defined. The algorithm spaces the nodes
evenly based on the number of transverse beam specified.</p></li>
</ol>
<p>While nodes are generated, elements are also created by linking the generated nodes. Node linking is based on the grid numbering
allocated to each node. For example, A node with x grid = 1 and z grid = 1 forms a longitudinal beam element with node having
x grid = 2 and z_grid = 1.</p>
<p>During element generation, elements are characterized into Longitudinal, Transverse, and Edge elements.
Longitudinal elements are linked by recording the nodes with common z grid grouping across the sweep path.</p>
</div>
<div class="section" id="grid-groups">
<h3>Grid groups<a class="headerlink" href="#grid-groups" title="Permalink to this headline">¶</a></h3>
<p>Grid groups for elements in the z direct is defined based on the number of longitudinal beams. For the example bridge,
there are 7 longitudinal beams (2 edge, 2 exterior and 3 interior beams). Therefore, starting from 0, the nodes that
conincide with edge beams are numbered 0 and 6, while nodes for exterior beams are 1 and 5. The interior beam consist
of the remaining groups (2,3,4) by this default.</p>
<p>Grid groups for elements in x direction is defined based on the number of times (or loops) through each intersection point
with the sweep path. In other words, the total number of groups for x grid varies depending on the (1) number of long beams
and (2) number of transverse beams.</p>
<p>All nodes defined during an iteration step for an intersecting point is set to have the same x grid group.</p>
</div>
<div class="section" id="mesh-variables">
<h3>Mesh variables<a class="headerlink" href="#mesh-variables" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Nodes information are stored as dictionaries</p></li>
<li><p>Elements are specified by list. A typical element list is like this [2, 2, 3, 0, 2]
The entries are the element tag, node_i, node_j, grouping (based on list), and geometric transformation tag.</p></li>
</ul>
<p>Dictionaries are used to store information of mesh:</p>
<ul class="simple">
<li><p>Common element group as key: return z groups</p></li>
<li><p>Z group as key, return longitudinal elements within the z group</p></li>
<li><p>X group as key, return transverse elements within the x group</p></li>
<li><p>node tag as key, return x spacings between vicinity nodes</p></li>
<li><p>node tag as key, return the z spacings between vicinity nodes</p></li>
</ul>
</div>
</div>
<div class="section" id="local-vs-global-coordinate-system">
<h2>Local vs global coordinate system<a class="headerlink" href="#local-vs-global-coordinate-system" title="Permalink to this headline">¶</a></h2>
<p>In <em>ospgrillage</em>, local coordinate system refers to a basic coordinate system of components which is independent of the global coordinate system i.e. the coordinate system of the
grillage model space.</p>
<p>The definition of the following components within <em>ops-grillage</em> requires attention between basic and global coordinate system</p>
<ul class="simple">
<li><p>Load objects (Point, Line, Patch) - takes either local or global coordinate.</p></li>
<li><p>Path objects (Path for moving load)</p></li>
<li><p>Compound load object - takes either local or global coordinates.</p></li>
</ul>
<p>For <code class="xref py py-class docutils literal notranslate"><span class="pre">LoadCase</span></code>, all load object inputs can be either local or global. Note when local coordinate is defined for a load object, a global reference coordinate needs to be defined or else
the module raises an Error regarding its point/vertices values.</p>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="../_images/coordinate_system_mapping.PNG"><img alt="../_images/coordinate_system_mapping.PNG" src="../_images/coordinate_system_mapping.PNG" /></a>
<p class="caption"><span class="caption-text">Figure 3: Mapping of local coordinate of Load/Path objects to global coordinate.</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="links-to-module-components">
<h2>Links to module components<a class="headerlink" href="#links-to-module-components" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p><a class="reference internal" href="Module%20description.html"><span class="doc">Creating grillage models</span></a></p></li>
<li><p><a class="reference internal" href="Examples.html"><span class="doc">Examples</span></a></p></li>
<li><p><a class="reference internal" href="OpsGrillage.html"><span class="doc">OpsGrillage</span></a></p></li>
<li><p><a class="reference internal" href="Running_analysis.html"><span class="doc">Performing analysis</span></a></p></li>
</ol>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="links-to-useful-resources">
<h2>Links to useful resources<a class="headerlink" href="#links-to-useful-resources" title="Permalink to this headline">¶</a></h2>
<p>Use the following links for more on:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://bridgedesign.org.uk/tutorial/bs-grillage.php">Grillage modelling</a></p></li>
<li><p><a class="reference external" href="https://openseespydoc.readthedocs.io/en/latest/">OpenSeesPy documentation</a></p></li>
<li><p><a class="reference external" href="https://www.researchgate.net/publication/289736527_Effect_of_skew_angle_on_behavior_of_simply_supported_R_C_T-beam_bridge_decks">Example bridge with skew edges</a></p></li>
</ul>
</div>
<div class="section" id="further-development">
<h2>Further development<a class="headerlink" href="#further-development" title="Permalink to this headline">¶</a></h2>
<p>The initial release of <em>ospgrillage</em> contains core algorithms to generate meshes of grillage models. However the
release comes with limitations and further development are required to extend beyond these limitations.</p>
<p>The current version of <em>ospgrillage</em> is limited to straight meshes. However, the developers coded the module in a way
where curve mesh is possible in future developments. Specifically, <cite>SweepPath</cite> class in meshing procedure can be introduced with
curved lines instead of straight (current version). This makes curve mesh possible with the sweep nodes been coded to be always orthogonal
to sweep path.</p>
<p>Current version of <em>ospgrillage</em> is limited to a single span mesh, where the support edges lies on the start and end
edge of the mesh. Multi-span mesh is possible with a few more developments. This is done by introducing intermediate
edge construction lines. This is done by developing the <cite>EdgeConstructionLine</cite> class. However,
this requires a bit more development as current edge construction lines are only recognized as end
supports - catering meshing procedures for one span.</p>
<p>The developers also acknowledges that there is minor conflict between the coordinate system of <em>ospgrillage</em> and the default
coordinate system for the <cite>ops_vis</cite> module of <code class="docutils literal notranslate"><span class="pre">`OpenSeesPy`</span></code>. The <cite>ops_vis</cite> module default isotropic angle is x - y with z axis plane
being the model plane of a 2-D model in 3-D space. Currently the easiest solution is to further develop <cite>ops_vis</cite> to allow
multi isotropic views of the model space. If developers were to program <em>ospgrillage</em> to fit <cite>ops_vis</cite> current default axis,
it would require substantial rework of the entire module - since the module assume the model plane of the 2D grillage is the
y axis.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="Examples.html" class="btn btn-neutral float-right" title="Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="generated/ospgrillage.mesh.create_point.html" class="btn btn-neutral float-left" title="ospgrillage.mesh.create_point" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Justin Ngan, Colin Caprani.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>