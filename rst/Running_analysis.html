

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Performing analysis &mdash; ospgrillage module 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API reference" href="APIdoc.html" />
    <link rel="prev" title="Creating grillage models" href="Module%20description.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ospgrillage module
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Module%20description.html">Creating grillage models</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Performing analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#defining-loads">Defining loads</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#point-loads">Point Loads</a></li>
<li class="toctree-l3"><a class="reference internal" href="#line-loads">Line Loads</a></li>
<li class="toctree-l3"><a class="reference internal" href="#patch-loads">Patch loads</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compound-loads">Compound loads</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#load-cases">Load cases</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#moving-loads">Moving loads</a></li>
<li class="toctree-l2"><a class="reference internal" href="#defining-load-combination">Defining load combination</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-analysis">Running analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#obtaining-results">Obtaining results</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="APIdoc.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="ModuleDoc.html">Module design</a></li>
<li class="toctree-l1"><a class="reference internal" href="Examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="ChangeLog.html">Change Log</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ospgrillage module</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Performing analysis</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/rst/Running_analysis.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="performing-analysis">
<h1>Performing analysis<a class="headerlink" href="#performing-analysis" title="Permalink to this headline">¶</a></h1>
<p>Having created the grillage model, users can proceed with grillage analysis.
The <em>ospgrillage</em> module contains grillage analysis utilities which wraps Openseespy commands to perform load analysis.
This allow users to specify load cases comprising of multiple loads types and then run load case analysis.
Furthermore, <em>ospgrillage</em> module also options for moving load analysis.</p>
<div class="section" id="defining-loads">
<h2>Defining loads<a class="headerlink" href="#defining-loads" title="Permalink to this headline">¶</a></h2>
<p>Available loads types include <a class="reference internal" href="#point">Point</a>, <a class="reference internal" href="#line">Line</a>, and <a class="reference internal" href="#patch">Patch</a> loads.
Two or more of these load types can be combined to form <a href="#id3"><span class="problematic" id="id4">`Compound`_</span></a> loads. All load types are applied in the direction of the global <cite>y</cite>-axis.
Loads in other directions and applied moments are currently not supported.</p>
<p>Each load type requires user to specify its load point(s). This is achieved by a namedTuple <cite>LoadPoint(x,y,z,p)</cite> where <cite>x</cite>,`y`,`z` are the coordinates of the load point
and <cite>p</cite> is the magnitude of the vertical loading. Note, <cite>p</cite> is a unit magnitude which is interpreted differently based on the load type - this will be later explained.</p>
<p>The coordinates are generally in the global coordinate system with respect to the created grillage model.
However, a user-defined local coordinate system may also be used to assist in then creating <a href="#id5"><span class="problematic" id="id6">`Compound`_</span></a> loads.</p>
<p>Depending on the load type, a minimum number of LoadPoint namedTuple
are required. These are defined used the <cite>point</cite> variable for the load type class for the global coordinate system,
or else <cite>localpoint</cite> variable for a user-defined local coordinate system, where # is a digit from 1 to 9.
Below are examples of creating different load types.</p>
<div class="section" id="point-loads">
<span id="point"></span><h3>Point Loads<a class="headerlink" href="#point-loads" title="Permalink to this headline">¶</a></h3>
<p>Point load is a force applied on a single infinitismal point of the grillage model.
Point loads are used represent a large range of loads, such as concentrated load of a car axle.</p>
<p>Point loads are instantiated with the interface function <code class="docutils literal notranslate"><span class="pre">create_point_load</span></code> or directly with the <code class="xref py py-class docutils literal notranslate"><span class="pre">PointLoad</span></code> class.
Point load takes only a single <cite>LoadPoint</cite> tuple. <cite>p</cite> in the tuple should have units of force (eg. N, kN, kips, etc).</p>
<p>The following example code creates a 20 force unit point load located at (5,0,2) in the global coordinate system.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">point_load_location</span> <span class="o">=</span> <span class="n">ospg</span><span class="o">.</span><span class="n">LoadPoint</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  <span class="c1"># create load point</span>
<span class="n">Single</span> <span class="o">=</span> <span class="n">ospg</span><span class="o">.</span><span class="n">PointLoad</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;single point&quot;</span><span class="p">,</span> <span class="n">point1</span><span class="o">=</span><span class="n">point_load_location</span><span class="p">)</span>
</pre></div>
</div>
<p>To position the load instead in a user defined local coordinate system to later create a <a href="#id7"><span class="problematic" id="id8">`Compound`_</span></a> loads, the variable <cite>localpoint1</cite> instead of <cite>point1</cite> is used.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">point_load_location</span> <span class="o">=</span> <span class="n">opsg</span><span class="o">.</span><span class="n">LoadPoint</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  <span class="c1"># create load point</span>
<span class="n">Single</span> <span class="o">=</span> <span class="n">opsg</span><span class="o">.</span><span class="n">PointLoad</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;single point&quot;</span><span class="p">,</span> <span class="n">localpoint1</span><span class="o">=</span><span class="n">point_load_location</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="line-loads">
<span id="line"></span><h3>Line Loads<a class="headerlink" href="#line-loads" title="Permalink to this headline">¶</a></h3>
<p>Line loads are loads exerted along a line. Line loads are useful to represent loads such as self weight of longitudinal beams or
distributed load on beam elements along the span direction.</p>
<p>Line loads are instantied with the <code class="xref py py-class docutils literal notranslate"><span class="pre">LineLoading</span></code> and required at least two <code class="xref py py-class docutils literal notranslate"><span class="pre">LoadPoint</span></code> tuple (corresponds to the start and end of the line load).
Using more than two tuples allows a curve line loading profile.
<cite>p</cite> in the <code class="xref py py-class docutils literal notranslate"><span class="pre">LoadPoint</span></code> tuple should have units of force per distance (eg. kN/m, kips/ft, etc).</p>
<p>The following example code is a constant 2 force per distance unit line load (UDL)
in the global coordinate system from -1 to 11 distance units in the <cite>x</cite>-axis and along the position in the <cite>z</cite>-axis at 3 distance units.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">barrier_point_1</span> <span class="o">=</span> <span class="n">opsg</span><span class="o">.</span><span class="n">LoadPoint</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">barrier_point_2</span> <span class="o">=</span> <span class="n">opsg</span><span class="o">.</span><span class="n">LoadPoint</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">Barrier</span> <span class="o">=</span> <span class="n">opsg</span><span class="o">.</span><span class="n">LineLoading</span><span class="p">(</span><span class="s2">&quot;Barrier curb load&quot;</span><span class="p">,</span> <span class="n">point1</span><span class="o">=</span><span class="n">barrier_point_1</span><span class="p">,</span> <span class="n">point2</span><span class="o">=</span><span class="n">barrier_point_2</span><span class="p">)</span>
</pre></div>
</div>
<p>As before, to position the load instead in a user defined local coordinate system to later create a <a href="#id9"><span class="problematic" id="id10">`Compound`_</span></a> loads, the variable <cite>localpoint#</cite> instead of <cite>point#</cite> is used.</p>
</div>
<div class="section" id="patch-loads">
<span id="patch"></span><h3>Patch loads<a class="headerlink" href="#patch-loads" title="Permalink to this headline">¶</a></h3>
<p>Patch loads are instantied with the <code class="xref py py-class docutils literal notranslate"><span class="pre">PatchLoading</span></code> and required at least four <code class="xref py py-class docutils literal notranslate"><span class="pre">LoadPoint</span></code> tuple (corresponds to the vertices of the patch load).
Using more than four tuples allows a curve surface loading profile.
<cite>p</cite> in the <code class="xref py py-class docutils literal notranslate"><span class="pre">LoadPoint</span></code> tuple should have units of force per area.</p>
<p>The following example code is constant 5 force per area unit patch load
in the global coordinate system.
To position the load instead in a user defined local coordinate system, the variable <cite>localpoint#</cite> instead of <cite>point#</cite> is used.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">lane_point_1</span> <span class="o">=</span> <span class="n">opsg</span><span class="o">.</span><span class="n">LoadPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">lane_point_2</span> <span class="o">=</span> <span class="n">opsg</span><span class="o">.</span><span class="n">LoadPoint</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">lane_point_3</span> <span class="o">=</span> <span class="n">opsg</span><span class="o">.</span><span class="n">LoadPoint</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">lane_point_4</span> <span class="o">=</span> <span class="n">opsg</span><span class="o">.</span><span class="n">LoadPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">Lane</span> <span class="o">=</span> <span class="n">PatchLoading</span><span class="p">(</span><span class="s2">&quot;Lane 1&quot;</span><span class="p">,</span> <span class="n">point1</span><span class="o">=</span><span class="n">lane_point_1</span><span class="p">,</span> <span class="n">point2</span><span class="o">=</span><span class="n">lane_point_2</span><span class="p">,</span> <span class="n">point3</span><span class="o">=</span><span class="n">lane_point_3</span><span class="p">,</span> <span class="n">point4</span><span class="o">=</span><span class="n">lane_point_4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="compound-loads">
<span id="compound-load"></span><h3>Compound loads<a class="headerlink" href="#compound-loads" title="Permalink to this headline">¶</a></h3>
<p>Two or more groups of load objects can be compounded into a compound load.</p>
<p>To create a compound load, use the <code class="xref py py-class docutils literal notranslate"><span class="pre">CompoundLoad</span></code> class - passing load objects for compounding as input parameters.</p>
<p>The following code creates and add a point and line load to the <code class="xref py py-class docutils literal notranslate"><span class="pre">CompoundLoad</span></code> object.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># compound load</span>
<span class="n">wheel_1</span> <span class="o">=</span> <span class="n">opsg</span><span class="o">.</span><span class="n">PointLoad</span><span class="p">(</span><span class="n">opsg</span><span class="o">.</span><span class="n">LoadPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">wheel_2</span> <span class="o">=</span> <span class="n">opsg</span><span class="o">.</span><span class="n">PointLoad</span><span class="p">(</span><span class="n">opsg</span><span class="o">.</span><span class="n">LoadPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">C_Load</span> <span class="o">=</span> <span class="n">opsg</span><span class="o">.</span><span class="n">CompoundLoad</span><span class="p">(</span><span class="s2">&quot;Axle tandem&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>After creating a compound load, users will have to add <code class="xref py py-class docutils literal notranslate"><span class="pre">Loads</span></code> objects (Point, Line, Patch) to the Compound load object:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">C_Load</span><span class="o">.</span><span class="n">add_load</span><span class="p">(</span><span class="n">load_obj</span><span class="o">=</span><span class="n">wheel_1</span><span class="p">,</span> <span class="n">local_coord</span><span class="o">=</span><span class="n">Point</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">C_Load</span><span class="o">.</span><span class="n">add_load</span><span class="p">(</span><span class="n">load_obj</span><span class="o">=</span><span class="n">wheel_2</span><span class="p">,</span> <span class="n">local_coord</span><span class="o">=</span><span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
<p>Here are the valid input types for which CompoundLoad accepts:</p>
<table class="colwidths-given docutils align-default" id="id2">
<caption><span class="caption-text">Table: 1 Valid combinations for CompoundLoad object</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Load’s coordinate space</p></th>
<th class="head"><p><cite>local_coord=</cite></p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Require <cite>set_global_coord()</cite>?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Global</p></td>
<td><p>No</p></td>
<td><p>Sets the Load’s points to global space</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>Global</p></td>
<td><p>Yes</p></td>
<td><p>Overwrites the Load’s global space, keeping only the Magnitude of the global load</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Local</p></td>
<td><p>No</p></td>
<td><p>Sets the Load’s local space, later set to global using <cite>set_global_coord()</cite></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Local</p></td>
<td><p>Yes</p></td>
<td><p><strong>Invalid combination</strong>, loads are defined in local space already</p></td>
<td><p>N/A</p></td>
</tr>
</tbody>
</table>
<p>Test</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Compound loads require users to pay attention between basic and global coordinate system (see <span class="xref std std-ref">ModuleDoc</span> for more information on coordinate systems)</p>
<p>At the current stage, the <code class="xref py py-class docutils literal notranslate"><span class="pre">CompoundLoad</span></code> parses the load object within <strong>local coordinate system</strong>. When pass as input into <code class="xref py py-class docutils literal notranslate"><span class="pre">LoadCase</span></code>, the Compound load’s vertices / load points
are automatically converted to <strong>global coordinates</strong>, based on the inputs of <code class="docutils literal notranslate"><span class="pre">set_global_coord</span></code> function</p>
</div>
<p><strong>Coordinate System</strong></p>
<p>When adding each load object, the <code class="xref py py-class docutils literal notranslate"><span class="pre">CompoundLoad</span></code> class allow users to input a <code class="docutils literal notranslate"><span class="pre">load_coord=</span></code> keyworded parameter.
This relates to the load object - whether it was previously defined in the user-defined <em>local</em> or in the <em>global</em> coordinate system. The following explains the various
input conditions</p>
<p>After defining all required load objects, <code class="xref py py-class docutils literal notranslate"><span class="pre">CompoundLoad</span></code> requires users to define the global coordinate which to map the user-defined local coordinates.
If not specified, the mapping’s reference point is default to the <strong>Origin</strong> of coordinate system i.e. (0,0,0)</p>
<p>For example, this code line shifts all load points of all load objects for <strong>Single</strong> and <strong>Barrier</strong> in the <strong>C_Load</strong> compound load by x + 4, y + 0 , and z + 3.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">C_Load</span><span class="o">.</span><span class="n">set_global_coord</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<div class="section" id="load-cases">
<span id="id1"></span><h4>Load cases<a class="headerlink" href="#load-cases" title="Permalink to this headline">¶</a></h4>
<p>Load cases are a set of load types (<a class="reference internal" href="#point">Point</a>, <a class="reference internal" href="#line">Line</a>, <a class="reference internal" href="#patch">Patch</a>, <a class="reference internal" href="#compound-load">Compound load</a>) used to define a particular loading condition. Compound loads are treated as a single load group within a load case
having same reference points (e.g. tandem axle) and properties (e.g. load factor)</p>
<p>After load type objects are created, users add the load objects to <code class="xref py py-class docutils literal notranslate"><span class="pre">LoadCase</span></code> class objects. First, users instantiates a
<code class="xref py py-class docutils literal notranslate"><span class="pre">LoadCase</span></code> class object and giving it its name.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DL</span> <span class="o">=</span> <span class="n">create_load_case</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Dead Load&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Users then pass load objects as input parameters using <code class="docutils literal notranslate"><span class="pre">add_load_groups()</span></code> function. The following code line shows how
the above load types are added to <em>DL</em> load case.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DL</span><span class="o">.</span><span class="n">add_load_groups</span><span class="p">(</span><span class="n">Single</span><span class="p">)</span>  <span class="c1"># each line adds individual load types to the load case</span>
<span class="n">DL</span><span class="o">.</span><span class="n">add_load_groups</span><span class="p">(</span><span class="n">Barrier</span><span class="p">)</span>
<span class="n">DL</span><span class="o">.</span><span class="n">add_load_groups</span><span class="p">(</span><span class="n">Lane</span><span class="p">)</span>
</pre></div>
</div>
<p>After adding loads, the <code class="xref py py-class docutils literal notranslate"><span class="pre">LoadCase</span></code> object is added to grillage model for analysis using the <code class="docutils literal notranslate"><span class="pre">add_load_case()</span></code>
function of <code class="xref py py-class docutils literal notranslate"><span class="pre">OpsGrillage</span></code> class. Users repeat this step for any defined load cases.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">example_bridge</span><span class="o">.</span><span class="n">add_load_case</span><span class="p">(</span><span class="n">DL</span><span class="p">)</span>  <span class="c1"># adding this load case to grillage model</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="moving-loads">
<h2>Moving loads<a class="headerlink" href="#moving-loads" title="Permalink to this headline">¶</a></h2>
<p>For moving load analysis, users create moving load objects using <code class="xref py py-class docutils literal notranslate"><span class="pre">MovingLoad</span></code> class. The moving load class takes a load type object (<a class="reference internal" href="#point">Point</a>, <a class="reference internal" href="#line">Line</a>, <a class="reference internal" href="#patch">Patch</a>, <a class="reference internal" href="#compound-load">Compound load</a>) and moves the load
through a path points described by a <code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code> object and obtained by the <code class="docutils literal notranslate"><span class="pre">get_path_points()</span></code> method.
Path are defined using two namedTuple <code class="xref py py-class docutils literal notranslate"><span class="pre">Point(x,y,z)</span></code> to describe its start and end position.</p>
<p>The following example code is a line load is defined as a moving load travelling a path from 2 to 4 distance units in the global coordinate system.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">front_wheel</span> <span class="o">=</span> <span class="n">ospg</span><span class="o">.</span><span class="n">LoadPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>   <span class="c1"># Local</span>
<span class="n">back_wheel</span> <span class="o">=</span> <span class="n">ospg</span><span class="o">.</span><span class="n">LoadPoint</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>   <span class="c1"># Local</span>
<span class="n">tandem</span> <span class="o">=</span> <span class="n">ospg</span><span class="o">.</span><span class="n">create_compound_load</span><span class="p">(</span><span class="s2">&quot;Two wheel vehicle&quot;</span><span class="p">)</span>

<span class="n">single_path</span> <span class="o">=</span> <span class="n">opsg</span><span class="o">.</span><span class="n">create_moving_path</span><span class="p">(</span><span class="n">start_point</span><span class="o">=</span><span class="n">ospg</span><span class="o">.</span><span class="n">Point</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">end_point</span><span class="o">=</span> <span class="n">ospg</span><span class="o">.</span><span class="n">Point</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>  <span class="c1"># create path object</span>
<span class="n">move_line</span> <span class="o">=</span> <span class="n">opsg</span><span class="o">.</span><span class="n">MovingLoad</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Line Load moving&quot;</span><span class="p">)</span>
<span class="n">move_line</span><span class="o">.</span><span class="n">set_path</span><span class="p">(</span><span class="n">single_path</span><span class="p">)</span>
<span class="n">move_line</span><span class="o">.</span><span class="n">add_loads</span><span class="p">(</span><span class="n">load_obj</span><span class="o">=</span><span class="n">Line</span><span class="p">)</span>
</pre></div>
</div>
<p>From here, use the <code class="docutils literal notranslate"><span class="pre">add_load_case()</span></code> function of the <code class="xref py py-class docutils literal notranslate"><span class="pre">OpsGrillage</span></code> to add the moving load. Here, the function automatically
creates multiple <a class="reference internal" href="#load-cases">load cases</a> which corresponds to the load condition as the load moves through each increment of the path.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">example_bridge</span><span class="o">.</span><span class="n">add_load_case</span><span class="p">(</span><span class="n">move_point</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="defining-load-combination">
<h2>Defining load combination<a class="headerlink" href="#defining-load-combination" title="Permalink to this headline">¶</a></h2>
<p>Load combinations analysis are performed by using the <code class="xref py py-class docutils literal notranslate"><span class="pre">OpsGrillage</span></code> function <code class="docutils literal notranslate"><span class="pre">add_load_combination()</span></code>.
Load combinations are defined by passing an input dictionary of basic load case name as keys with load factors as
values. An example dictionary is shown as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">load_combinations</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Dead Load&#39;</span><span class="p">:</span><span class="mf">1.2</span><span class="p">,</span><span class="s1">&#39;Live traffic&#39;</span><span class="p">:</span><span class="mf">1.7</span><span class="p">}</span>
<span class="n">example_bridge</span><span class="o">.</span><span class="n">add_load_combination</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;ULS&quot;</span><span class="p">,</span> <span class="n">input_dict</span> <span class="o">=</span> <span class="n">load_combinations</span> <span class="p">)</span>
</pre></div>
</div>
<p>Load combinations are automatically calculated from the analysis results at the end after analysing all load cases.
The following section on Running Analysis will explain how these load combinations are extracted.</p>
</div>
<div class="section" id="running-analysis">
<h2>Running analysis<a class="headerlink" href="#running-analysis" title="Permalink to this headline">¶</a></h2>
<p>Once all defined load cases (static and moving) have been added to the grillage the analysis can be conducted.</p>
<p>To analyse loadcase(s), users run the class function <code class="docutils literal notranslate"><span class="pre">analyze()</span></code>. This function takes either keyword arguments
<code class="docutils literal notranslate"><span class="pre">all=</span></code> or <code class="docutils literal notranslate"><span class="pre">loadcase=</span></code>. When <code class="docutils literal notranslate"><span class="pre">all=True</span></code>, <code class="docutils literal notranslate"><span class="pre">analyze()</span></code> will run all defined load cases. If users wish to run only
a specific set of load cases, pass a list of load case name str to <code class="docutils literal notranslate"><span class="pre">loadcase=</span></code>  keyword. This will analyse all load cases of the list.</p>
<div class="section" id="obtaining-results">
<h3>Obtaining results<a class="headerlink" href="#obtaining-results" title="Permalink to this headline">¶</a></h3>
<p>Results are returned as <a class="reference external" href="http://xarray.pydata.org/en/stable/user-guide/data-structures.html#">data arrays</a> (python’s Xarray module).
To this, run the <code class="docutils literal notranslate"><span class="pre">get_results()</span></code> function and an output tuple of two objects will be returned:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span>  <span class="n">example_bridge</span><span class="o">.</span><span class="n">get_results</span><span class="p">()</span>
</pre></div>
</div>
<p>The <em>result</em> data array contains dimensions of:</p>
<ul class="simple">
<li><p>load case : listing all load case</p></li>
<li><p>Node : listing all nodes within mesh of grillage model</p></li>
<li><p>Component: Node responses ordered in this manner - dx,dy,dz,theta_x,theta_y,theta_z,Vx,Vy,Vz,Mx,My,Mz</p></li>
</ul>
<p>Here is an example of how the data array looks like in practice:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/stucture_dataarray.PNG"><img alt="../_images/stucture_dataarray.PNG" src="../_images/stucture_dataarray.PNG" style="width: 670.5px; height: 122.25px;" /></a>
</div>
<p>From here, users can use xarray’s function for data array to extract ‘slices’ of data</p>
<p>For load combinations, users flag the <cite>get_combination=</cite> keyword as <em>True</em>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">load_combination_dict</span> <span class="o">=</span> <span class="n">example_bridge</span><span class="o">.</span><span class="n">get_results</span><span class="p">(</span><span class="n">get_combinations</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Instead of two data arrays, the function returns a single dict with names of load combinations as key, paired with a data array
of the load combination as its value. The data array has the same dimensions as those from basic_load_case_result and
moving_load_results, only this time the arrays are modified by load factors defined for the load combinations.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="APIdoc.html" class="btn btn-neutral float-right" title="API reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="Module%20description.html" class="btn btn-neutral float-left" title="Creating grillage models" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Justin Ngan, Colin Caprani.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>